<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Solvenut Client Dashboard</title>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover,user-scalable=no">
  <meta name="theme-color" content="#020617">
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <script src="https://unpkg.com/@lucide/lucide@latest"></script>

  <style>
    :root{
      --brand-1:#10b981;
      --brand-2:#14b8a6;
      --accent:#f59e0b;
      --bg:#020617;
      --card:#020617;
      --muted:#94a3b8;
      --text:#f9fafb;
      --border:rgba(148,163,184,0.35);
      --border-soft:rgba(148,163,184,0.25);
      --error:#ef4444;
      --success:#22c55e;
      --radius-sm:14px;
      --radius-md:20px;
      --radius-lg:26px;
      --transition-1:200ms cubic-bezier(.4,0,.2,1);
      --transition-2:320ms cubic-bezier(.25,.46,.45,.94);
    }

    *{box-sizing:border-box;margin:0;padding:0}
    html,body{
      height:100%;
      font-family:'Plus Jakarta Sans',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      background:
        radial-gradient(circle at 0 0,rgba(16,185,129,0.18),transparent 45%),
        radial-gradient(circle at 100% 100%,rgba(245,158,11,0.12),transparent 55%),
        #020617;
      color:var(--text);
      -webkit-font-smoothing:antialiased;
      scroll-behavior:smooth;
      overflow-x:hidden;
    }
    body{display:flex;flex-direction:column;min-height:100vh}

    a{color:inherit;text-decoration:none}

    .shell{
      max-width:1120px;
      margin:0 auto;
      padding:0 16px;
      width:100%;
    }

    /* HEADER ‚Äì SIMPLE, MOBILE FIRST */
    header{
      position:sticky;
      top:0;
      z-index:40;
      background:rgba(2,6,23,0.98);
      border-bottom:1px solid rgba(148,163,184,0.35);
      backdrop-filter:blur(16px);
    }
    .header-inner{
      height:60px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
    }
    .logo-wrap{
      display:flex;
      align-items:center;
      gap:8px;
      cursor:pointer;
      flex-shrink:0;
    }
    .logo-mark{
      width:34px;height:34px;
      border-radius:12px;
      background:linear-gradient(135deg,var(--brand-1),var(--brand-2));
      display:grid;place-items:center;
      font-size:18px;
      box-shadow:0 10px 30px rgba(16,185,129,0.6);
    }
    .logo-text{font-weight:800;font-size:17px;letter-spacing:.02em}
    .logo-text span:last-child{color:var(--accent)}

    nav.desktop{
      display:flex;
      align-items:center;
      gap:8px;
      flex:1;
      justify-content:center;
    }
    .nav-btn{
      border:none;
      background:transparent;
      color:var(--muted);
      font-size:13px;
      font-weight:600;
      padding:6px 14px;
      border-radius:999px;
      display:flex;
      align-items:center;
      gap:6px;
      cursor:pointer;
      border:1px solid transparent;
      transition:all var(--transition-1);
      white-space:nowrap;
    }
    .nav-btn:hover{
      color:var(--text);
      border-color:rgba(148,163,184,0.45);
      background:rgba(15,23,42,0.95);
    }
    .nav-btn.active{
      background:linear-gradient(90deg,var(--brand-1),var(--brand-2));
      color:#ecfdf5;
      border-color:transparent;
      box-shadow:0 10px 28px rgba(16,185,129,0.55);
    }

    .header-actions{
      display:flex;
      align-items:center;
      gap:8px;
      flex-shrink:0;
    }
    .search-wrap{
      position:relative;
      width:170px;
    }
    .search-input{
      width:100%;
      padding:7px 12px 7px 30px;
      border-radius:999px;
      border:1px solid rgba(148,163,184,0.55);
      background:rgba(15,23,42,0.96);
      color:var(--text);
      font-size:13px;
      outline:none;
      transition:all var(--transition-1);
    }
    .search-input::placeholder{color:var(--muted)}
    .search-input:focus{
      border-color:var(--brand-1);
      box-shadow:0 0 0 3px rgba(16,185,129,0.3);
    }
    .search-icon{
      position:absolute;
      left:9px;top:50%;
      transform:translateY(-50%);
      width:15px;height:15px;
      color:var(--muted);
    }

    .icon-btn{
      width:32px;height:32px;
      border-radius:11px;
      border:1px solid rgba(148,163,184,0.55);
      background:rgba(15,23,42,0.96);
      color:var(--muted);
      display:flex;
      align-items:center;
      justify-content:center;
      cursor:pointer;
      transition:all var(--transition-1);
      flex-shrink:0;
    }
    .icon-btn:hover{
      background:#020617;
      color:var(--text);
      box-shadow:0 8px 22px rgba(15,23,42,0.9);
      transform:translateY(-1px);
    }

    .expert-cta{
      border:none;
      border-radius:13px;
      background:linear-gradient(90deg,var(--brand-1),var(--brand-2));
      color:#ecfdf5;
      font-size:12px;
      font-weight:700;
      padding:7px 12px;
      display:flex;
      align-items:center;
      gap:6px;
      cursor:pointer;
      box-shadow:0 10px 28px rgba(16,185,129,0.6);
      transition:all var(--transition-2);
      white-space:nowrap;
    }
    .expert-cta:hover{
      transform:translateY(-1px);
      box-shadow:0 14px 36px rgba(16,185,129,0.8);
    }

    .avatar-pill{
      width:28px;height:28px;
      border-radius:11px;
      background:linear-gradient(135deg,var(--brand-1),var(--brand-2));
      display:grid;place-items:center;
      font-size:13px;font-weight:700;
      color:#ecfdf5;
    }

    .mobile-toggle{
      display:none;
      border:none;
      background:transparent;
      color:var(--text);
      font-size:22px;
      cursor:pointer;
    }

    .mobile-drawer{
      display:none;
      position:fixed;
      inset:0;
      background:rgba(2,6,23,0.97);
      backdrop-filter:blur(18px);
      z-index:50;
      padding:18px 16px 20px;
      flex-direction:column;
      gap:10px;
    }
    .mobile-drawer.open{display:flex}
    .mobile-drawer .nav-btn{
      width:100%;
      justify-content:flex-start;
      border-radius:12px;
      border:1px solid rgba(148,163,184,0.45);
      background:rgba(15,23,42,0.96);
    }

    @media(max-width:820px){
      nav.desktop{display:none}
      .search-wrap{display:none}
      .mobile-toggle{display:inline-flex}
    }

    /* MAIN CARD */
    main{
      flex:1;
      width:100%;
      display:flex;
      justify-content:center;
      padding:22px 0 30px;
    }
    .dash-card{
      width:100%;
      max-width:1120px;
      background:radial-gradient(circle at 0 0,rgba(15,23,42,0.96),rgba(15,23,42,0.96));
      border-radius:22px;
      border:1px solid var(--border);
      box-shadow:0 28px 80px rgba(15,23,42,0.96);
      padding:18px 14px 20px;
    }

    .page{display:none;animation:fadeIn .22s ease-out}
    .page.active{display:block}
    @keyframes fadeIn{
      from{opacity:0;transform:translateY(8px)}
      to{opacity:1;transform:translateY(0)}
    }

    .page-header{
      margin-bottom:14px;
      padding-bottom:10px;
      border-bottom:1px solid rgba(148,163,184,0.35);
      display:flex;
      flex-direction:column;
      gap:6px;
    }
    .page-header-top{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:10px;
      flex-wrap:wrap;
    }
    .page-title{
      font-size:21px;
      font-weight:800;
      background:linear-gradient(135deg,var(--brand-1),var(--brand-2),var(--accent));
      -webkit-background-clip:text;
      color:transparent;
    }
    .page-sub{
      font-size:13px;
      color:var(--muted);
    }

    /* HOME: VALUE STRIP */
    .story-grid{
      display:grid;
      grid-template-columns:2fr 1.6fr;
      gap:12px;
      margin-bottom:14px;
    }
    @media(max-width:880px){
      .story-grid{grid-template-columns:1fr}
    }
    .story-card{
      border-radius:var(--radius-md);
      border:1px solid var(--border);
      background:rgba(8,16,32,0.96);
      padding:12px 11px;
    }
    .story-card h3{
      font-size:14px;
      font-weight:700;
      margin-bottom:4px;
    }
    .story-card p{
      font-size:12px;
      color:var(--muted);
      line-height:1.5;
    }
    .pill-list{
      display:flex;
      flex-wrap:wrap;
      gap:6px;
      margin-top:6px;
    }
    .pill{
      font-size:11px;
      padding:4px 8px;
      border-radius:999px;
      border:1px solid var(--border-soft);
      color:var(--muted);
    }

    /* STATS */
    .stats-grid{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(190px,1fr));
      gap:12px;
      margin-bottom:16px;
    }
    .stat{
      border-radius:18px;
      border:1px solid var(--border);
      background:rgba(10,18,40,0.98);
      padding:11px 11px 9px;
    }
    .stat-label{
      font-size:11px;
      color:var(--muted);
      text-transform:uppercase;
      letter-spacing:.06em;
      margin-bottom:3px;
    }
    .stat-value{
      font-size:23px;
      font-weight:800;
      margin-bottom:3px;
    }
    .stat-desc{
      font-size:12px;
      color:var(--muted);
    }

    /* AI CHAT LAYOUT ‚Äì CLEAN APP STYLE */
    .ai-layout{
      display:grid;
      grid-template-columns:minmax(0,1.9fr) minmax(0,1.35fr);
      gap:14px;
      align-items:flex-start;
    }
    @media(max-width:880px){
      .ai-layout{grid-template-columns:1fr}
    }

    .ai-shell{
      border-radius:var(--radius-lg);
      border:1px solid var(--border);
      background:
        radial-gradient(circle at 0 0,rgba(16,185,129,0.18),transparent 55%),
        rgba(3,7,18,0.97);
      padding:13px 11px 11px;
      display:flex;
      flex-direction:column;
      min-height:320px;
      max-height:520px;
      overflow:hidden;
      position:relative;
    }
    .ai-shell::before{
      content:'';
      position:absolute;inset:0;
      border-radius:inherit;
      pointer-events:none;
      box-shadow:inset 0 0 0 1px rgba(15,23,42,0.7);
    }

    .ai-top{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:8px;
      margin-bottom:7px;
      position:relative;
      z-index:1;
    }
    .ai-title-row{
      display:flex;
      align-items:center;
      gap:8px;
    }
    .ai-avatar{
      width:26px;height:26px;
      border-radius:999px;
      background:linear-gradient(135deg,var(--brand-1),var(--brand-2));
      display:grid;place-items:center;
      font-size:14px;
    }
    .ai-name{font-size:14px;font-weight:700}
    .ai-caption{font-size:11px;color:var(--muted)}
    .ai-badge{
      font-size:10px;
      padding:4px 8px;
      border-radius:999px;
      border:1px solid rgba(34,197,94,0.6);
      color:#bbf7d0;
      background:rgba(22,101,52,0.4);
      text-transform:uppercase;
      letter-spacing:.08em;
      white-space:nowrap;
    }

    .messages{
      flex:1;
      border-radius:16px;
      border:1px solid rgba(15,23,42,0.96);
      background:rgba(6,12,30,0.98);
      padding:9px;
      margin-bottom:7px;
      overflow-y:auto;
      scrollbar-width:thin;
      scrollbar-color:var(--brand-1) transparent;
      position:relative;
      z-index:1;
    }
    .messages::-webkit-scrollbar{width:6px}
    .messages::-webkit-scrollbar-thumb{
      background:linear-gradient(180deg,var(--brand-1),var(--brand-2));
      border-radius:999px;
    }

    .chat-msg{
      max-width:86%;
      padding:9px 11px;
      border-radius:15px;
      font-size:13px;
      line-height:1.6;
      margin-bottom:7px;
      word-wrap:break-word;
      box-shadow:0 8px 22px rgba(15,23,42,0.95);
      animation:msgIn .2s ease-out;
    }
    @keyframes msgIn{
      from{opacity:0;transform:translateY(6px) scale(.98)}
      to{opacity:1;transform:translateY(0) scale(1)}
    }
    .chat-msg.bot{
      margin-right:auto;
      background:#020617;
      border:1px solid rgba(148,163,184,0.6);
    }
    .chat-msg.user{
      margin-left:auto;
      background:linear-gradient(135deg,var(--brand-1),var(--brand-2));
      color:#ecfdf5;
      border-radius:15px 15px 4px 15px;
    }

    .ai-input-wrap{
      display:flex;
      flex-direction:column;
      gap:6px;
      position:relative;
      z-index:1;
    }
    .ai-input-row{
      display:flex;
      gap:7px;
      align-items:flex-end;
    }
    .ai-input{
      flex:1;
      border-radius:999px;
      border:1px solid rgba(148,163,184,0.6);
      background:rgba(15,23,42,0.98);
      color:var(--text);
      font-size:13px;
      padding:8px 11px;
      min-height:20px;
      max-height:86px;
      resize:none;
      outline:none;
      transition:all var(--transition-1);
    }
    .ai-input::placeholder{color:var(--muted)}
    .ai-input:focus{
      border-color:var(--brand-1);
      box-shadow:0 0 0 3px rgba(16,185,129,0.35);
      background:#020617;
    }

    .send-btn{
      width:38px;height:38px;
      border-radius:999px;
      border:none;
      background:linear-gradient(135deg,var(--brand-1),var(--brand-2));
      color:#ecfdf5;
      display:flex;
      align-items:center;
      justify-content:center;
      cursor:pointer;
      box-shadow:0 12px 30px rgba(16,185,129,0.8);
      transition:all var(--transition-2);
      flex-shrink:0;
    }
    .send-btn:hover{
      transform:translateY(-1px) scale(1.04);
      box-shadow:0 16px 40px rgba(16,185,129,0.9);
    }
    .send-btn:active{transform:scale(.96)}

    .quick-row{
      display:flex;
      flex-wrap:wrap;
      gap:6px;
    }
    .quick-btn{
      font-size:11px;
      padding:4px 8px;
      border-radius:999px;
      border:1px solid rgba(148,163,184,0.6);
      background:#020617;
      color:var(--muted);
      cursor:pointer;
      transition:all var(--transition-1);
      white-space:nowrap;
    }
    .quick-btn:hover{
      border-color:var(--brand-1);
      color:var(--text);
      background:rgba(16,185,129,0.13);
    }

    /* RIGHT PANE ‚Äì SIMPLE INFO */
    .value-card{
      border-radius:var(--radius-lg);
      border:1px solid var(--border);
      background:rgba(6,12,30,0.98);
      padding:12px 11px 11px;
    }
    .value-head{font-size:14px;font-weight:700;margin-bottom:4px}
    .value-sub{font-size:12px;color:var(--muted);margin-bottom:7px}
    .value-list{font-size:12px;color:var(--muted);list-style:none;padding:0;margin:0}
    .value-list li{display:flex;gap:6px;margin-bottom:4px}
    .value-list span:first-child{color:#bbf7d0}

    /* AI FULL PAGE */
    .ai-full{
      border-radius:var(--radius-lg);
      border:1px solid var(--border);
      background:rgba(6,12,30,0.98);
      padding:13px 11px 11px;
      max-width:900px;
      margin:0 auto;
      display:flex;
      flex-direction:column;
      min-height:360px;
    }
    .ai-full .messages{min-height:240px;max-height:500px}

    /* PROFILE */
    .profile-hero{
      border-radius:var(--radius-lg);
      border:1px solid var(--border);
      background:
        radial-gradient(circle at 0 0,rgba(16,185,129,0.18),transparent 60%),
        rgba(6,12,30,0.98);
      padding:14px 12px 14px;
      margin-bottom:14px;
    }
    .profile-head{
      display:grid;
      grid-template-columns:64px minmax(0,1fr);
      gap:12px;
      align-items:center;
      margin-bottom:12px;
    }
    .avatar-xl{
      width:64px;height:64px;
      border-radius:21px;
      background:linear-gradient(135deg,var(--brand-1),var(--brand-2));
      display:grid;place-items:center;
      font-size:26px;font-weight:800;
      color:#ecfdf5;
      box-shadow:0 18px 40px rgba(16,185,129,0.75);
    }
    .profile-name{font-size:18px;font-weight:800;margin-bottom:2px}
    .profile-meta{
      font-size:12px;
      color:var(--muted);
      display:flex;
      flex-wrap:wrap;
      gap:7px;
    }

    .profile-stats{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(140px,1fr));
      gap:9px;
      margin-bottom:10px;
    }
    .profile-stat{
      border-radius:13px;
      border:1px solid var(--border-soft);
      background:rgba(8,16,32,0.98);
      padding:8px 8px;
      text-align:center;
    }
    .p-num{
      font-size:17px;
      font-weight:800;
      color:var(--brand-1);
      margin-bottom:2px;
    }
    .p-label{
      font-size:11px;
      color:var(--muted);
      text-transform:uppercase;
      letter-spacing:.06em;
    }

    .profile-actions{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(150px,1fr));
      gap:8px;
    }
    .profile-btn{
      border-radius:13px;
      border:none;
      padding:8px 9px;
      font-size:12px;
      font-weight:700;
      display:flex;
      align-items:center;
      gap:7px;
      cursor:pointer;
      color:#f9fafb;
      background:linear-gradient(135deg,#0f172a,#020617);
      transition:all var(--transition-2);
    }
    .profile-btn:hover{
      transform:translateY(-1px);
      box-shadow:0 14px 36px rgba(15,23,42,0.9);
    }

    .sec-strip{
      margin-top:14px;
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(200px,1fr));
      gap:10px;
    }
    .sec-card{
      border-radius:13px;
      border:1px solid var(--border-soft);
      background:rgba(8,16,32,0.98);
      padding:9px 9px;
      font-size:12px;
      color:var(--muted);
    }
    .sec-card h4{font-size:13px;font-weight:700;margin-bottom:4px;color:var(--text)}

    footer{
      margin-top:auto;
      border-top:1px solid rgba(148,163,184,0.35);
      padding:16px 14px 14px;
      font-size:11px;
      color:var(--muted);
      text-align:center;
      background:rgba(2,6,23,0.97);
    }

    .toast{
      position:fixed;
      bottom:18px;
      left:50%;
      transform:translate(-50%,40px);
      padding:9px 13px;
      border-radius:999px;
      font-size:12px;
      font-weight:600;
      color:#ecfdf5;
      background:linear-gradient(135deg,var(--brand-1),var(--brand-2));
      box-shadow:0 18px 40px rgba(16,185,129,0.85);
      opacity:0;
      transition:all var(--transition-2);
      z-index:60;
      max-width:90%;
      text-align:center;
    }
    .toast.show{transform:translate(-50%,0);opacity:1}
    .toast.info{background:linear-gradient(135deg,#0ea5e9,#6366f1)}
    .toast.error{background:linear-gradient(135deg,#ef4444,#b91c1c)}

    @media(max-width:640px){
      .dash-card{padding:16px 11px}
      .page-title{font-size:19px}
      .stats-grid{grid-template-columns:1fr}
      .ai-shell{min-height:300px}
      .profile-head{grid-template-columns:56px minmax(0,1fr)}
      .avatar-xl{width:56px;height:56px;font-size:23px}
    }
  </style>
</head>
<body>
<header>
  <div class="shell header-inner">
    <div class="logo-wrap" onclick="location.href='index.html'">
      <div class="logo-mark">ü•ú</div>
      <div class="logo-text">Solve<span>nut</span></div>
    </div>

    <nav class="desktop" aria-label="Main navigation">
      <button class="nav-btn active" data-target="home" onclick="openSection('home',event)">
        <i data-lucide="layout-dashboard" style="width:16px;height:16px"></i>
        Dashboard
      </button>
      <button class="nav-btn" data-target="ai" onclick="openSection('ai',event)">
        <i data-lucide="cpu" style="width:16px;height:16px"></i>
        AI Assistant
      </button>
      <button class="nav-btn" data-target="profile" onclick="openSection('profile',event)">
        <i data-lucide="user" style="width:16px;height:16px"></i>
        Profile
      </button>
    </nav>

    <div class="header-actions">
      <div class="search-wrap">
        <i data-lucide="search" class="search-icon"></i>
        <input id="globalSearch" class="search-input" type="text" placeholder="Search experts...">
      </div>
      <button class="icon-btn" id="notifications" title="Notifications">
        <i data-lucide="bell" style="width:17px;height:17px"></i>
      </button>
      <button class="expert-cta" onclick="goToExpertsPage()">
        <i data-lucide="user-plus" style="width:15px;height:15px"></i>
        Talk to expert
      </button>
      <button class="icon-btn" id="profileBtn" title="Profile">
        <div class="avatar-pill" id="headerAvatar">U</div>
      </button>
      <button class="mobile-toggle" id="mobileToggle" aria-label="Open menu">
        <i data-lucide="menu"></i>
      </button>
    </div>
  </div>

  <div id="mobileDrawer" class="mobile-drawer" aria-hidden="true">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;">
      <div class="logo-wrap" onclick="location.href='index.html'">
        <div class="logo-mark">ü•ú</div>
        <div class="logo-text">Solve<span>nut</span></div>
      </div>
      <button class="mobile-toggle" id="closeDrawer" aria-label="Close menu">
        <i data-lucide="x"></i>
      </button>
    </div>
    <button class="nav-btn active" data-target="home" onclick="openSection('home',event)">
      <i data-lucide="layout-dashboard" style="width:18px;height:18px"></i>
      Dashboard
    </button>
    <button class="nav-btn" data-target="ai" onclick="openSection('ai',event)">
      <i data-lucide="cpu" style="width:18px;height:18px"></i>
      AI Assistant
    </button>
    <button class="nav-btn" data-target="profile" onclick="openSection('profile',event)">
      <i data-lucide="user" style="width:18px;height:18px"></i>
      Profile
    </button>
    <button class="expert-cta" style="width:100%;justify-content:center;margin-top:6px;" onclick="goToExpertsPage()">
      <i data-lucide="user-plus" style="width:16px;height:16px"></i>
      Book human expert
    </button>
  </div>
</header>

<main>
  <div class="shell">
    <div class="dash-card">
      <!-- HOME -->
      <section id="home" class="page active">
        <div class="page-header">
          <div class="page-header-top">
            <div>
              <div class="page-title">Welcome back, <span id="displayName">User</span></div>
              <p class="page-sub">Affordable expert advice, when you need it most.</p>
            </div>
          </div>
        </div>

        <div class="story-grid">
          <div class="story-card">
            <h3>Why Solvenut exists</h3>
            <p>
              AI is fast but generic, offline experts are expensive, and Google or Quora often miss personal, situational doubts.
              Solvenut gives you verified humans for practical answers at micro prices.
            </p>
            <div class="pill-list">
              <span class="pill">Human‚Äëfirst</span>
              <span class="pill">Trust & accountability</span>
              <span class="pill">Chat ‚Ä¢ Voice ‚Ä¢ Video</span>
              <span class="pill">Micro‚Äëconsultations (5‚Äì10 mins)</span>
            </div>
          </div>
          <div class="story-card">
            <h3>Where we can help</h3>
            <p>
              Technical, medical (non‚Äëemergency), exams, career, relationships, money, law awareness, home repair, gadgets,
              freelancing, small business and more ‚Äì all in one place.
            </p>
            <div class="pill-list">
              <span class="pill">Doctors (non‚Äëemergency)</span>
              <span class="pill">Software & DevOps</span>
              <span class="pill">Teachers & NEET mentors</span>
              <span class="pill">Career & interview</span>
              <span class="pill">Relationship & family</span>
              <span class="pill">Freelancing & small business</span>
            </div>
          </div>
        </div>

        <div class="stats-grid">
          <div class="stat">
            <div class="stat-label">Wallet</div>
            <div class="stat-value" id="balance">‚Çπ0.00</div>
            <div class="stat-desc">Use this for micro‚Äësessions with experts.</div>
          </div>
          <div class="stat">
            <div class="stat-label">AI credits</div>
            <div class="stat-value" id="tokens">‚àû</div>
            <div class="stat-desc">Unlimited AI clarification and summaries.</div>
          </div>
          <div class="stat">
            <div class="stat-label">Questions handled</div>
            <div class="stat-value" id="reqCount">0</div>
            <div class="stat-desc">Count of doubts explored via AI + humans.</div>
          </div>
          <div class="stat">
            <div class="stat-label">System status</div>
            <div class="stat-value" id="systemStatus">Optimal</div>
            <div class="stat-desc">Servers, AI and expert network are healthy.</div>
          </div>
        </div>

        <!-- AI chat app style -->
        <div class="ai-layout">
          <div class="ai-shell">
            <div class="ai-top">
              <div class="ai-title-row">
                <div class="ai-avatar">ü§ñ</div>
                <div>
                  <div class="ai-name">Solvenut AI ‚Äì First pass</div>
                  <div class="ai-caption">AI cleans your question before a human expert joins.</div>
                </div>
              </div>
              <div class="ai-badge" id="aiModelBadge">GPT‚Äë4o Premium</div>
            </div>

            <div class="messages" id="aiMessages" aria-live="polite">
              <div class="chat-msg bot" style="margin:26px auto 0;max-width:440px;text-align:center;">
                Tell Solvenut what you are stuck on. AI will:
                <br>‚Ä¢ Structure your doubt
                <br>‚Ä¢ Ask for missing details
                <br>‚Ä¢ Prepare it for the right expert.
              </div>
            </div>

            <div class="ai-input-wrap">
              <div class="ai-input-row">
                <textarea id="aiInput"
                          class="ai-input"
                          placeholder="Describe your doubt, issue or situation‚Ä¶ (Enter to send)"
                          rows="1"
                          oninput="this.style.height='auto';this.style.height=Math.min(this.scrollHeight,86)+'px'"
                          onkeydown="handleAIInput(event)"></textarea>
                <button class="send-btn" id="sendBtn" onclick="askAI()">
                  <i data-lucide="send" style="width:18px;height:18px"></i>
                </button>
              </div>
              <div class="quick-row">
                <button class="quick-btn" onclick="quickPrompt('Help me frame this medical (non‚Äëemergency) question better: ')">Medical (non‚Äëemergency)</button>
                <button class="quick-btn" onclick="quickPrompt('Help me describe this programming / bug clearly: ')">Programming / bug</button>
                <button class="quick-btn" onclick="quickPrompt('I need guidance for exams or career. Help me frame it: ')">Exam / career</button>
                <button class="quick-btn" onclick="quickPrompt('I have a personal / family / relationship question. Keep it anonymous and structured: ')">Personal & anonymous</button>
              </div>
            </div>
          </div>

          <div class="value-card">
            <div class="value-head">What happens after AI?</div>
            <div class="value-sub">
              Solvenut only brings a human expert when needed ‚Äì so you pay the minimum and still get accountability.
            </div>
            <ul class="value-list">
              <li><span>‚ë†</span><span>AI clarifies and structures your doubt.</span></li>
              <li><span>‚ë°</span><span>Best expert (category, language, price) is suggested.</span></li>
              <li><span>‚ë¢</span><span>You choose chat / voice / video and micro‚Äëpay (5‚Äì10 min or full session).</span></li>
              <li><span>‚ë£</span><span>AI summarises expert advice and next steps in your history vault.</span></li>
            </ul>

            <div style="margin-top:9px;border-top:1px solid var(--border-soft);padding-top:7px;font-size:11px;color:var(--muted);">
              Vision: <strong style="font-weight:700;">A world where no one is confused, helpless, or forced to overpay just to get the right advice.</strong>
            </div>
          </div>
        </div>
      </section>

      <!-- AI FOCUS PAGE -->
      <section id="ai" class="page">
        <div class="page-header">
          <div class="page-header-top">
            <div>
              <div class="page-title">Solvenut AI + Humans</div>
              <p class="page-sub">Long chats, deep debugging or multi‚Äëstep planning.</p>
            </div>
            <button class="expert-cta" onclick="goToExpertsPage()">
              When AI is not enough
              <i data-lucide="user-plus" style="width:16px;height:16px"></i>
            </button>
          </div>
        </div>

        <div class="ai-full">
          <div class="messages" id="aiMessagesLarge"></div>
          <div class="ai-input-wrap" style="margin-top:7px;">
            <div class="ai-input-row">
              <textarea id="aiInputLarge"
                        class="ai-input"
                        placeholder="Continue chatting with Solvenut about this problem‚Ä¶"
                        rows="1"
                        oninput="this.style.height='auto';this.style.height=Math.min(this.scrollHeight,86)+'px'"
                        onkeydown="handleAIInput(event,true)"></textarea>
              <button class="send-btn" onclick="askAI(true)">
                <i data-lucide="send" style="width:18px;height:18px"></i>
              </button>
            </div>
          </div>
        </div>
      </section>

      <!-- PROFILE -->
      <section id="profile" class="page">
        <div class="page-header">
          <div class="page-header-top">
            <div>
              <div class="page-title">Your Solvenut account</div>
              <p class="page-sub">Manage identity, languages, trust and pricing.</p>
            </div>
            <button class="expert-cta" style="background:linear-gradient(135deg,#ef4444,#b91c1c)" onclick="logout()">
              Sign out
              <i data-lucide="log-out" style="width:16px;height:16px"></i>
            </button>
          </div>
        </div>

        <div class="profile-hero">
          <div class="profile-head">
            <div class="avatar-xl" id="profileAvatar">U</div>
            <div>
              <div class="profile-name" id="profileName">User Name</div>
              <div class="profile-meta">
                <span id="profileEmailText">user@example.com</span>
                <span>‚Ä¢ Member since 2025</span>
                <span>‚Ä¢ Prefers chat + Hindi</span>
              </div>
            </div>
          </div>

          <div class="profile-stats">
            <div class="profile-stat">
              <div class="p-num" id="profileSessions">0</div>
              <div class="p-label">Total sessions</div>
            </div>
            <div class="profile-stat">
              <div class="p-num">4.9</div>
              <div class="p-label">Avg rating</div>
            </div>
            <div class="profile-stat">
              <div class="p-num">15</div>
              <div class="p-label">Saved solutions</div>
            </div>
            <div class="profile-stat">
              <div class="p-num">3</div>
              <div class="p-label">Follow‚Äëup credits</div>
            </div>
          </div>

          <div class="profile-actions">
            <button class="profile-btn" onclick="editProfile()">
              <i data-lucide="edit-3" style="width:16px;height:16px"></i>
              Edit profile & languages
            </button>
            <button class="profile-btn" style="background:linear-gradient(135deg,#22c55e,#16a34a)" onclick="billingSettings()">
              <i data-lucide="credit-card" style="width:16px;height:16px"></i>
              Wallet & subscriptions
            </button>
            <button class="profile-btn" style="background:linear-gradient(135deg,#0ea5e9,#6366f1)" onclick="securitySettings()">
              <i data-lucide="shield-check" style="width:16px;height:16px"></i>
              Security & anonymity
            </button>
            <button class="profile-btn" style="background:linear-gradient(135deg,#a855f7,#ec4899)" onclick="usageAnalytics()">
              <i data-lucide="bar-chart-3" style="width:16px;height:16px"></i>
              Problem history vault
            </button>
          </div>
        </div>

        <div class="sec-strip">
          <div class="sec-card">
            <h4>Trust & verification</h4>
            <p>Experts are document‚Äëverified, rated, and tracked for performance. You always see success tags, pricing and languages before booking.</p>
          </div>
          <div class="sec-card">
            <h4>Pricing & refunds</h4>
            <p>Pay‚Äëper‚Äëminute or per session with clear pricing. If a case is unresolved or low‚Äëquality, credits can be returned based on policy.</p>
          </div>
          <div class="sec-card">
            <h4>Anonymous mode</h4>
            <p>For sensitive topics (mental wellness, relationships, health awareness), you can hide your name and still get accountable, human answers.</p>
          </div>
        </div>
      </section>
    </div>
  </div>
</main>

<footer>
  ‚ÄúSolvenut connects you to real experts for real solutions‚Äîinstantly, affordably, and human‚Äëfirst.‚Äù
</footer>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    if (typeof lucide !== 'undefined') {
      lucide.createIcons();
    }

    const state = {
      username: localStorage.getItem('username') || 'User',
      email: localStorage.getItem('email') || 'user@example.com',
      token: localStorage.getItem('token') || null,
      requestsCounter: parseInt(localStorage.getItem('reqCount')) || 0
    };

    const mobileToggle = document.getElementById('mobileToggle');
    const closeDrawer = document.getElementById('closeDrawer');
    const drawer = document.getElementById('mobileDrawer');

    mobileToggle.addEventListener('click', () => {
      drawer.classList.add('open');
      drawer.setAttribute('aria-hidden','false');
    });
    closeDrawer.addEventListener('click', () => closeMobileMenu());
    document.addEventListener('click', e => {
      if (!e.target.closest('header')) closeMobileMenu();
    });

    function updateUI() {
      const initial = state.username.charAt(0).toUpperCase();
      document.getElementById('headerAvatar').textContent = initial;
      document.getElementById('profileAvatar').textContent = initial;
      document.getElementById('displayName').textContent = state.username;
      document.getElementById('profileEmailText').textContent = state.email;
      document.getElementById('profileName').textContent = state.username;
      document.getElementById('reqCount').textContent = state.requestsCounter;
    }

    window.openSection = function (id, event) {
      if (event) event.preventDefault();
      document.querySelectorAll('.nav-btn').forEach(btn => {
        btn.classList.toggle('active', btn.dataset.target === id);
      });
      document.querySelectorAll('.page').forEach(page => {
        page.classList.toggle('active', page.id === id);
      });
      closeMobileMenu();
      if (window.innerWidth < 768) window.scrollTo({ top: 0, behavior: 'smooth' });
    };

    window.closeMobileMenu = function () {
      drawer.classList.remove('open');
      drawer.setAttribute('aria-hidden','true');
    };

    window.askAI = async function (fullscreen = false) {
      const inputId = fullscreen ? 'aiInputLarge' : 'aiInput';
      const messagesId = fullscreen ? 'aiMessagesLarge' : 'aiMessages';
      const input = document.getElementById(inputId);
      const messages = document.getElementById(messagesId);
      const prompt = input.value.trim();
      if (!prompt) return;

      const userMsg = document.createElement('div');
      userMsg.className = 'chat-msg user';
      userMsg.textContent = prompt;
      messages.appendChild(userMsg);
      input.value = '';
      input.style.height = 'auto';
      messages.scrollTop = messages.scrollHeight;

      state.requestsCounter++;
      localStorage.setItem('reqCount', state.requestsCounter);
      document.getElementById('reqCount').textContent = state.requestsCounter;

      const thinking = document.createElement('div');
      thinking.className = 'chat-msg bot';
      thinking.innerHTML = '<em>Solvenut AI is thinking‚Ä¶</em>';
      messages.appendChild(thinking);
      messages.scrollTop = messages.scrollHeight;

      try {
        const body = { prompt };
        const params = new URLSearchParams(location.search);
        if (params.get('domain')) body.domain = params.get('domain');

        const res = await fetch('/api/ai/ask', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            ...(state.token ? { 'Authorization': `Bearer ${state.token}` } : {})
          },
          body: JSON.stringify(body)
        });
        const data = await res.json();
        thinking.remove();

        const aiMsg = document.createElement('div');
        aiMsg.className = 'chat-msg bot';
        aiMsg.innerHTML = data.answer || 'No response received';
        messages.appendChild(aiMsg);
        messages.scrollTop = messages.scrollHeight;
        showToast('AI answer ready','success');

        if (data.shouldEscalate) {
          setTimeout(() => showToast('AI suggests talking to a human expert for this case.', 'info'), 600);
        }
      } catch (err) {
        thinking.innerHTML = 'Network error. Please try again.';
        showToast('Network error. Please try again.','error');
      }
    };

    window.handleAIInput = function (event, fullscreen = false) {
      if (event.key === 'Enter' && !event.shiftKey) {
        event.preventDefault();
        askAI(fullscreen);
      }
    };

    window.quickPrompt = function (text) {
      const input = document.getElementById('aiInput');
      input.value = text;
      input.focus();
      input.style.height = 'auto';
      input.style.height = Math.min(input.scrollHeight, 86) + 'px';
      setTimeout(() => askAI(false), 200);
    };

    window.goToExpertsPage = function (domain) {
      const url = domain ? `expert.html?domain=${encodeURIComponent(domain)}` : 'expert.html';
      window.location.href = url;
    };

    window.showToast = function (message, type = 'info') {
      const toast = document.createElement('div');
      toast.className = 'toast ' + type;
      toast.textContent = message;
      document.body.appendChild(toast);
      setTimeout(() => toast.classList.add('show'), 20);
      setTimeout(() => toast.classList.remove('show'), 3800);
      setTimeout(() => toast.remove(), 4200);
    };

    async function refreshTelemetry() {
      try {
        const res = await fetch('/api/system/health');
        if (!res.ok) return;
        const data = await res.json();
        document.getElementById('balance').textContent =
          data.account_balance
            ? '‚Çπ' + parseFloat(data.account_balance).toLocaleString('en-IN',{minimumFractionDigits:2})
            : '‚Çπ0.00';
        document.getElementById('tokens').textContent = data.tokens_remaining ?? '‚àû';
        document.getElementById('systemStatus').textContent =
          data.status === 'healthy' ? 'Optimal' : 'Checking‚Ä¶';
        document.getElementById('aiModelBadge').textContent = data.model || 'GPT‚Äë4o Premium';
      } catch(e){
        console.warn('Telemetry failed',e);
      }
    }

    window.editProfile = function () { showToast('Profile editing coming soon'); };
    window.billingSettings = function () { showToast('Opening billing & wallet'); };
    window.securitySettings = function () { showToast('Security & anonymity settings coming soon'); };
    window.usageAnalytics = function () { showToast('Problem history vault coming soon'); };
    window.logout = function () {
      if (confirm('Sign out from Solvenut?')) {
        localStorage.clear();
        location.href = 'index.html';
      }
    };

    document.addEventListener('keydown', function (e) {
      if ((e.metaKey || e.ctrlKey) && e.key.toLowerCase() === 'k') {
        e.preventDefault();
        const el = document.getElementById('globalSearch');
        if (el) el.focus();
      }
    });

    updateUI();
    openSection('home');
    refreshTelemetry();
    setInterval(refreshTelemetry,20000);

    if (state.email && state.email !== 'user@example.com') {
      fetch(`/api/profile?email=${encodeURIComponent(state.email)}`)
        .then(r => r.ok ? r.json() : Promise.reject())
        .then(data => {
          if (data.name) {
            state.username = data.name;
            updateUI();
          }
        }).catch(()=>{});
    }
  });
</script>
</body>
</html>
